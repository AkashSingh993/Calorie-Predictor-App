<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Calorie Burn Predictor</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <script>
        function validateForm(event) {
            const age = parseFloat(document.forms["calorieForm"]["age"].value);
            const height = parseFloat(document.forms["calorieForm"]["height"].value);
            const weight = parseFloat(document.forms["calorieForm"]["weight"].value);
            const duration = parseFloat(document.forms["calorieForm"]["duration"].value);
            const heartRate = parseFloat(document.forms["calorieForm"]["heart_rate"].value);
            const bodyTemp = parseFloat(document.forms["calorieForm"]["body_temp"].value);

            let errorMsg = "";

            if (age < 18 || age > 80) errorMsg += "Age must be between 18 and 80.\n";
            if (height < 100 || height > 250) errorMsg += "Height must be between 100 and 250 cm.\n";
            if (weight < 30 || weight > 200) errorMsg += "Weight must be between 30 and 200 kg.\n";
            if (duration < 1 || duration > 180) errorMsg += "Duration must be between 1 and 180 minutes.\n";
            if (heartRate < 60 || heartRate > 200) errorMsg += "Heart Rate must be between 60 and 200 BPM.\n";
            if (bodyTemp < 35 || bodyTemp > 42) errorMsg += "Body Temperature must be between 35Â°C and 42Â°C.\n";

            if (errorMsg) {
                alert(errorMsg); // Show error alert
                event.preventDefault(); // Stop form submission
            }
        }
    </script>
</head>
<body>
    <div class="container">
        <h1>ðŸ”¥ Calorie Burn Predictor</h1>
        <form name="calorieForm" action="/predict" method="POST" onsubmit="validateForm(event)">
            <label>Sex:</label>
            <select name="sex" required>
                <option value="male">Male</option>
                <option value="female">Female</option>
            </select>

            <label>Age:</label>
            <input type="number" name="age" required>
            

            <label>Height (cm):</label>
            <input type="number" name="height" required>
            

            <label>Weight (kg):</label>
            <input type="number" name="weight" required>
            

            <label>Duration (minutes):</label>
            <input type="number" name="duration" required>
            

            <label>Heart Rate:</label>
            <input type="number" name="heart_rate" required>
            

            <label>Body Temperature (Â°C):</label>
            <input type="number" step="0.1" name="body_temp" required>
            

            <button type="submit">Predict</button>
        </form>

        {% if prediction %}
            <div class="result">
                <h2>{{ prediction }}</h2>
            </div>
        {% endif %}
    </div>
</body>
</html>
